<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>고양이 판 뒤집기 대결</title>
    <link href="https://fonts.googleapis.com/css2?family=DungGeunMo&display=swap" rel="stylesheet">
    <style>
        body { background: #f0e6d2; font-family: 'DungGeunMo', sans-serif; display: flex; flex-direction: column; align-items: center; margin: 0; overflow: hidden; }
        #header { width: 100%; background: #333; color: white; padding: 10px; text-align: center; display: flex; justify-content: space-around; align-items: center; }
        
        /* 스코어보드 */
        .score-box { font-size: 1.5rem; padding: 5px 20px; border-radius: 10px; min-width: 100px; }
        .red-score { background: #e74c3c; color: white; }
        .blue-score { background: #3498db; color: white; }
        #timer { font-size: 2rem; color: #f1c40f; }

        /* 카드판 영역 */
        #board { 
            display: grid; 
            grid-template-columns: repeat(7, 1fr); 
            gap: 10px; 
            padding: 20px; 
            max-width: 900px; 
            perspective: 1000px;
        }
        .card {
            width: 110px; height: 60px;
            background: #bdc3c7; /* 초기 중립색 */
            border-radius: 5px;
            display: flex; justify-content: center; align-items: center;
            font-size: 0.9rem; font-weight: bold;
            box-shadow: 0 4px 0 #95a5a6;
            transition: all 0.3s;
            text-align: center;
            padding: 5px;
        }
        .card.red { background: #e74c3c; color: white; box-shadow: 0 4px 0 #c0392b; transform: rotateY(180deg); }
        .card.blue { background: #3498db; color: white; box-shadow: 0 4px 0 #2980b9; transform: rotateY(180deg); }

        /* 하단 입력창 */
        #input-area { margin-top: 20px; display: flex; gap: 15px; align-items: center; }
        input { padding: 10px; font-size: 1.2rem; font-family: 'DungGeunMo'; border: 3px solid #333; border-radius: 5px; width: 250px; }
        
        .team-btn { padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-family: 'DungGeunMo'; font-size: 1rem; color: white; }
        .btn-red { background: #e74c3c; }
        .btn-blue { background: #3498db; }
        .active-team { outline: 5px solid #f1c40f; transform: scale(1.1); }
    </style>
</head>
<body>

<div id="header">
    <div class="score-box red-score">빨강: <span id="r-count">0</span></div>
    <div id="timer">30</div>
    <div class="score-box blue-score">파랑: <span id="b-count">0</span></div>
</div>

<div id="board"></div>

<div id="input-area">
    <button id="btn-red" class="team-btn btn-red" onclick="selectTeam('red')">빨강팀 참여</button>
    <input type="text" id="word-input" placeholder="팀을 선택하고 단어를 입력!" disabled>
    <button id="btn-blue" class="team-btn btn-blue" onclick="selectTeam('blue')">파랑팀 참여</button>
</div>

<script>
    const catWords = [
        "고양이", "야옹이", "츄르", "스크래쳐", "캣잎", "그루밍", "젤리", "수염", "꾹꾹이", "골골송", 
        "냥냥펀치", "식빵자세", "꼬리", "사료", "모래", "캣타워", "집사", "털실", "방울", "낚시놀이",
        "삼색이", "치즈태비", "고등어", "샴", "러시안블루", "페르시안", "먼치킨", "뱅갈", "길냥이", "하악질",
        "무릎냥", "개냥이", "사냥", "낮잠", "햇살"
    ];

    let currentTeam = null;
    let timeLeft = 30;
    let gameActive = false;
    let timerInterval;

    const board = document.getElementById('board');
    const input = document.getElementById('word-input');

    // 카드 생성
    function createBoard() {
        board.innerHTML = '';
        catWords.forEach(word => {
            const card = document.createElement('div');
            card.className = 'card';
            card.innerText = word;
            card.id = `card-${word}`;
            board.appendChild(card);
        });
    }

    // 팀 선택
    function selectTeam(team) {
        if(gameActive) return;
        currentTeam = team;
        document.getElementById('btn-red').classList.remove('active-team');
        document.getElementById('btn-blue').classList.remove('active-team');
        document.getElementById(`btn-${team}`).classList.add('active-team');
        
        input.disabled = false;
        input.focus();
        if(!gameActive && timeLeft === 30) startGame();
    }

    function startGame() {
        gameActive = true;
        timerInterval = setInterval(() => {
            timeLeft--;
            document.getElementById('timer').innerText = timeLeft;
            if(timeLeft <= 0) endGame();
        }, 1000);
    }

    input.addEventListener('keydown', (e) => {
        if(e.key === 'Enter' && gameActive) {
            const word = input.value.trim();
            const card = document.getElementById(`card-${word}`);
            
            if(card) {
                card.className = `card ${currentTeam}`;
                updateScore();
            }
            input.value = '';
        }
    });

    function updateScore() {
        const reds = document.querySelectorAll('.card.red').length;
        const blues = document.querySelectorAll('.card.blue').length;
        document.getElementById('r-count').innerText = reds;
        document.getElementById('b-count').innerText = blues;
    }

    function endGame() {
        gameActive = false;
        clearInterval(timerInterval);
        input.disabled = true;
        const reds = parseInt(document.getElementById('r-count').innerText);
        const blues = parseInt(document.getElementById('b-count').innerText);
        
        let winner = reds > blues ? "빨강팀 승리!" : (blues > reds ? "파랑팀 승리!" : "무승부!");
        alert(`게임 종료!\n${winner}\n빨강: ${reds} vs 파랑: ${blues}`);
        location.reload(); // 게임 재시작
    }

    createBoard();
</script>
</body>
</html>
